---
import { basics } from '@cv'
import Section from '@/components/Section.astro'
import { Icon } from 'astro-icon/components'
const { name, animated_secondary_initial_label, animated_main_label,image, location, email } = basics
const { city, region, address } = location
---

<Section className={Astro.props.className}>
  <div class="min-w-[275px]">
    <section
      id="about"
      aria-label="About me"
      class="group flex gap-2 flex-col rounded-3xl bg-skin-muted sm:bg-skin-button-muted p-4 transition-all  sm:hover:bg-skin-muted print:gap-0 print:p-2"
    >
      <div
        class="flex items-center text-center gap-4 print:gap-1"
      >
        <figure class='print:hidden'>
          <img
            data-ccursor="lift"
            class='scale-110 sm:scale-100 transition-all sm:group-hover:scale-110 hover:grayscale'
            height={600}
            width={600}
            src={image}
            alt={`Profile of ${name}`}
            loading='eager' />
        </figure>
        <div class="flex flex-col items-center">
          <h1 class=" font-semibold ">{name}</h1>
          <div class="overflow-hidden mt-1">
            <div class="font-roboto-condensed font-bold lowercase text-xl lg:text-[1rem] lg:leading-[1rem]">
              <div data-ccursor="noPadding"  class=" p-1 group/subtitle relative flex gap-1  transition-all">
                <p class="  font-roboto-condensed font-medium lowercase text-xl lg:text-[1rem] lg:leading-[1rem]">
                  {animated_secondary_initial_label}
                </p>
            
                <!-- <div class="absolute inset-x-0 top-0 w-max translate-y-16 transition-all duration-450 ease-in-out group-hover/subtitle:translate-y-0">
                  <p class="font-roboto-condensed font-bold lowercase text-xl lg:text-[1rem] lg:leading-[1rem] bg-clip-text ">
                    {animated_secondary_final_label}
                  </p>
                </div> -->
                <p>{animated_main_label}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div data-ccursor="noPadding" class='flex w-max gap-2 py-1 px-2 text-sm text-skin-muted'>
        <Icon class='print:hidden sm:group-hover:text-skin-hue' name='mdi:world' width={20} height={20} />
        {address}, {region}
      </div>
      <div class="hidden print:block"><b>Contact: </b>{email}</div>
    </section>
  </div>
  <div class='flex gap-2 print:hidden'>
        <div
          aria-label="Social media"
          class="flex group/social flex-wrap justify-evenly sm:h-auto sm:w-auto w-full h-min sm:flex-row rounded-3xl p-2 transition-all rotate-0 bg-skin-muted sm:bg-skin-button-muted sm:hover:bg-skin-muted"
        >
          {
            basics.profiles.map(({network, url, icon, color}) => {
              return (
                <a
                  data-ccursor
                  class="flex flex-col items-center justify-center rounded-md p-2 hover:cursor-none"
                  href={url}
                  target="_blank"
                  rel="noreferrer noopener"
                  aria-label={`${network} (opens in a new tab)`}
                  data-umami-event={`${network} click`}
                  id={network}
                >
                  <Icon name={icon} width={24} height={24} class='sm:grayscale sm:group-hover/social:grayscale-0 transition-all' aria-label={network}/>
                </a>
              )
            })
          }
        </div>
  </div>
</Section>

<style>
  .info {
    @apply print:gap-0 print:pr-0;
    
    footer {
      @apply flex gap-4;
    }
  }

  h1 {
    @apply text-4xl font-bold print:text-3xl;
  }

  h2 {
    @apply text-balance text-base text-skin-muted print:text-lg;
  }

  img {
    @apply aspect-square w-32 rounded-2xl bg-cover;
  }

  span {
    @apply flex items-center gap-1 text-xs text-skin-hue;
  }

  footer {
    @apply flex gap-1;
  }
  .group\/social a .icon {
    color: #929AAB;
  }
  .group\/social a:hover .icon {
    color: rgb(var(--color-button-accent-hover));
  }
  

  @media (width <= 700px) {
    .container {
      flex-direction: column-reverse;
    }

    .info {
      @apply pr-0 md:items-center md:justify-center;
    }

    figure {
      @apply flex md:items-center md:justify-center;
    }

    h2 {
      text-wrap: balance;
    }

    figure {
      @apply md:mx-auto;
    }
  }
</style>
